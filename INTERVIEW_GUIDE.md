# 🎓 就活面接対策：技術的詳細ガイド (bado)

就職活動の面接で「このアプリはどうやって作ったの？」「なぜこの技術を選んだの？」と聞かれたときに、エンジニアとして評価される回答をするためのガイド（カンニングペーパー）です。

---

## 🛠️ 技術スタックとその選定理由

### Q. なぜ Django を選んだのですか？
**A. 「開発速度」と「堅牢なセキュリティ」を両立させるためです。**
- **Full-featured**: ユーザー認証、データベース操作(ORM)、管理画面などが標準装備されており、イベントのロジック実装に集中できました。
- **Security**: Djangoは CSRF, SQL Injection, XSS などの脆弱性対策がデフォルトで組み込まれており、個人情報を扱うアプリとして安全性を重視しました。
- **Python**: データ分析や機械学習との親和性が高く、将来的な機能拡張（例：参加データの分析など）がしやすいと考えました。

### Q. フロントエンドに React/Vue などの SPA フレームワークを使わなかった理由は？
**A. 「MPA (Multi-Page Application) + Vanilla JS」の構成が、今回の規模と要件に最適だったからです。**
- **SEOと初期ロード速度**: サーバーサイドレンダリング (SSR) により、初期表示が高速です。
- **学習コストと複雑性の排除**: ビルド環境の構築や状態管理の複雑さを避け、Djangoのテンプレートエンジンを活用することで、開発工数を削減しました。
- **必要十分なインタラクティブ性**: カレンダーの操作やモーダル表示など、動的な部分は Vanilla JS と Fetch API で実装しており、リッチな体験は十分に提供できています。

### Q. データベース設計で工夫した点は？
**A. 「多対多」の関係を管理する中間テーブルを明示的に作成した点です。**
- ユーザーとイベントは「多対多」の関係ですが、単なる `ManyToManyField` ではなく `EventAttendance` という中間モデルを定義しました。
- これにより、「いつ参加表明したか」というタイムスタンプ(`created_at`)を持たせることができ、参加順の管理などが可能になっています。また、複合インデックス(`indexes`)を設定して検索パフォーマンスも考慮しています。

---

## 🏗️ アーキテクチャとインフラ

### アプリケーション構成
```mermaid
graph LR
    Client[Browser/PWA] --HTTPS--> CDN[WhiteNoise (Static)]
    Client --HTTPS--> Web[Gunicorn (App Server)]
    Web --> Django[Django Framework]
    Django --> Auth[django-allauth (OAuth)]
    Django --> DB[(PostgreSQL/SQLite)]
```

### インフラ・デプロイ
- **Docker**: 開発環境と本番環境の差異をなくすため、Docker コンテナを使用。`docker-compose` で DB とアプリを一括管理しています。
- **Gunicorn**: Webサーバーゲートウェイインターフェース (WSGI) サーバーとして採用。並列処理に強く、本番環境での安定動作のために導入しました。
- **WhiteNoise**: 静的ファイル（CSS/JS/画像）を Django アプリケーションから直接、効率的に配信するために使用しています。これにより、別途 Nginx などを用意せずとも高速な配信が可能です。

---

## 💡 こだわりの実装ポイント (アピールポイント)

### 1. カスタムユーザーモデルの採用 (`core/models.py`)
- 開発初期から `AbstractUser` を継承した `User` モデルを採用しました。
- これにより、後から「役職 (Role)」フィールド(`member`, `officer`, `admin`)を追加するなど、要件変更に柔軟に対応できました。データベースのマイグレーションを一から作り直すリスクを回避しています。

### 2. カレンダー機能の自作 (`calendar.js`)
- 既存のライブラリ（FullCalendarなど）を使わず、グリッドレイアウトと JavaScript でゼロから実装しました。
- これにより、アプリ独自のデザインや、イベントごとの細かいデータ属性(`data-*`)の埋め込みなど、完全にコントロール可能なUIを実現しています。
- モーダルでの非同期通信(Ajax)による参加登録機能など、ユーザー体験(UX)を損なわないスムーズな挙動を作り込みました。

### 3. PWA (Progressive Web App) 対応
- `manifest.json` と Service Worker を実装し、モバイル端末でのインストールに対応しました。
- サークル活動はスマホでの利用がメインとなるため、ネイティブアプリのような使い勝手を提供することで、メンバーの利用率向上を目指しました。

---

## 📝 想定問答集

### Q. バックエンドはAPIを作るだけですか？ (APIサーバーですか？)
**A. いいえ、ハイブリッドな構成をとっています。**
- **HTMLの生成 (Server-Side Rendering)**: カレンダーの初期表示や月刊誌リストなどは、Djangoのテンプレートエンジンを使ってサーバー側でHTMLを組み立てて返しています。これにより初期表示速度を高速化し、SEOにも有利な構成にしています。
- **Web API (JSON)**: 一方で、イベントの追加や「参加」ボタンのような画面遷移を伴わない操作については、JSONを返すAPIとして機能させています。
- つまり、「基本はHTMLを返すWebサーバー」であり、必要な部分だけ「APIサーバー」として振る舞う、**MPA (Multi-Page Application) に API を組み合わせた構成** です。

**Q. 苦労した点は？**
A. 「カレンダーの動的な更新」です。初期表示はサーバーサイドで行っていますが、参加ボタンを押した後の即時反映（リロードなしでの人数更新）や、権限による表示の切り替え（運営のみ編集ボタンを表示など）のロジックを、JavaScript と Django テンプレートタグで整合性を保ちながら実装するのに試行錯誤しました。

**Q. 今後改善したい点は？**
A. 現在は同期処理が多いですが、通知機能（イベント前日のリマインドなど）を実装するために、Celery などの非同期タスクキューを導入したいと考えています。また、規模が大きくなれば、APIサーバー化(Django REST Framework)とフロントエンドのSPA化も検討します。
