# 🏆 面接で語れる！このアプリの「技術・こだわり」見所10選

面接で「どんな工夫をしましたか？」と聞かれたら、この中から相手の好みに合わせて2〜3個ピックアップして話してください。

---

## 🏎️ パフォーマンス・アーキテクチャ

### 1. Hybrid Architecture (SSR + SPA)
*   **内容**: 基本はDjangoのSSR(サーバーサイドレンダリング)で堅実に作りつつ、カレンダーなどのインタラクティブな部分は JavaScript (Fetch API) で動的に書き換える「ハイブリッド構成」にしました。
*   **メリット**: 初回ロードが速くSEOに強い(SSR)のと、操作感のサクサクさ(SPA)のいいとこ取りをしています。

### 2. データベース接続の最適化 (Connection Pooling)
*   **内容**: Render(米国)からSupabase(シンガポール)への接続で遅延が発生したため、Djangoの `CONN_MAX_AGE` を設定し、SupabaseのTransaction Pooler (Port 6543) を利用しました。
*   **メリット**: SSLハンドシェイクのオーバーヘッドを劇的に減らし、海外サーバー間通信でも実用的な速度を実現しました。

### 3. N+1問題の解消 (`select_related`)
*   **内容**: マイページやカレンダーAPIで、参加者データ取得時に `select_related` を徹底しました。
*   **メリット**: 参加者が増えてもクエリ回数が爆発せず、常に一定のパフォーマンスを維持できます。

---

## 📱 UX（ユーザー体験）・フロントエンド

### 4. アプリ化対応 (PWA)
*   **内容**: `manifest.json` と `Service Worker` を実装し、スマホのホーム画面に追加できるようにしました。
*   **メリット**: アドレスバーが消えてネイティブアプリのような没入感を提供しつつ、キャッシュ戦略で2回目以降の表示を高速化しています。

### 5. 「打刻」と「予約」の明確な区別
*   **内容**: QRコードによるチェックイン機能を実装し、単なる「参加ボタン(予約)」と「現地到着(出席)」をシステム的に分離しました。
*   **メリット**: 「予約したけど来なかった人」を可視化でき、運営の出欠管理コストをゼロにしました。

### 6. Optimistic UI (楽観的UI)
*   **内容**: カレンダーの「参加する」ボタンを押した際、サーバーの応答を待たずにUIを即座に書き換え（色を変える等）ています。
*   **メリット**: ユーザーに待ち時間を感じさせない、ネイティブアプリのような「サクサク感」を演出しています。

### 7. フレームワークレス・モダンCSS
*   **内容**: Bootstrapなどの重いフレームワークを使わず、CSS Variables (変数) を使ってフルスクラッチでデザインしました。
*   **メリット**: 必要なCSSしか書かないためファイルサイズが最小限になり、デザインの微調整やダークモード対応も自由自在です。

---

## 🛡️ 設計・開発運用

### 8. Dockerによる開発環境の統一
*   **内容**: 開発環境をDocker化し、`entrypoint.sh` で起動プロセスをコード化しました。
*   **メリット**: いわゆる「私のPCでは動くのに」問題を排除し、環境構築の時間を短縮しました。

### 9. 堅牢なセキュリティ設計
*   **内容**: 全てのPOSTリクエストにCSRFトークンを必須化し、重要なビューには `@login_required` や `request.user.role` による権限チェックを挟んでいます。
*   **メリット**: 初心者が作りがちな脆弱性を、Djangoの標準機能を正しく使うことで防いでいます。

### 10. 実用的なエラーハンドリング (Cold Start対策)
*   **内容**: Renderの無料プラン特有の「スリープからの復帰(Cold Start)」でタイムアウトが起きないよう、Gunicornのタイムアウト設定を最適化しました。
*   **メリット**: クラウド特有の制約を理解し、低コスト運用でも安定して稼働させるチューニング力があります。
